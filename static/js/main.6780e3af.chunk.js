(this.webpackJsonpcodemao=this.webpackJsonpcodemao||[]).push([[0],{128:function(e,t,n){e.exports=n(210)},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),u=n.n(c),l=n(48),o=n(32),m=n(110),s=n.n(m),i=n(123),f=[],b=Object(o.c)({spawners:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SPAWNER":return[].concat(Object(i.a)(e),[e.length]);default:return e}}}),p=[s.a],d=Object(o.d)(o.a.apply(void 0,p)),E=Object(o.e)(b,d),v=n(218),j=n(33);function O(){var e=Object(l.b)();return r.a.createElement(v.a.Header,{className:"app-bar"},r.a.createElement("div",null,"\u7f16\u7a0b\u732b\u53cd\u9988\u751f\u6210\u5668"),r.a.createElement(j.a,{type:"primary",onClick:function(){return e({type:"ADD_SPAWNER"})}},"\u65b0\u5efa"))}var h=n(69),y=n(212),k=n(216),C=n(213),g=n(219),w=n(211),N=n(214),A=n(215),x=window.courses;function S(){var e=Object(a.useState)(0),t=Object(h.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(null),l=Object(h.a)(u,2),o=l[0],m=l[1],s=Object(a.useState)(""),i=Object(h.a)(s,2),f=i[0],b=i[1],p=Object(a.useRef)({name:"\u8bad\u7ec3\u5e08"}),d=Object(a.useRef)(!1),E=Object(a.useCallback)((function(e,t){p.current[e]=t,console.log(p.current)}),[]),v=Object(a.useCallback)((function(e,t){return e.map((function(e){var n=e.type,c=e.name,u=e.value;return r.a.createElement(a.Fragment,{key:"".concat(t,"-").concat(c)},function(){switch(n){case"rate":return p.current[c]||E(c,"\u2b50\u2b50\u2b50\u2b50\u2b50"),r.a.createElement(y.a,{defaultValue:5,onChange:function(e){return E(c,new Array(e).fill("\u2b50").join(""))}});case"check-box":return p.current[c]||E(c,u),r.a.createElement(k.a.Group,{options:u,defaultValue:u,onChange:function(e){return E(c,e)}});case"select":var e=Object.keys(u);return p.current[c]||E(c,u[e[0]]),r.a.createElement(C.a,{className:"select mb",defaultValue:e[0],onChange:function(e){return E(c,u[e])}},e.map((function(e){return r.a.createElement(C.a.Option,{key:e},e)})));default:return null}}())}))}),[E]);Object(a.useEffect)((function(){var e=x[n].forms;console.log("render"),m(e.map((function(e,t){return r.a.createElement("div",{key:t,className:"form"},r.a.createElement("h4",{className:"title"},e.title),v(e.items,n))})))}),[n,E]);var O=Object(a.useCallback)((function(){d.current=!1,p.current.name||(p.current.name="\u8bad\u7ec3\u5e08");for(var e=x[n].template.join("\n"),t=0;-1!==e.search(/\$\{([^}]*)\}/)&&t<100;)e=e.replace(/\$\{([^}]*)\}/g,(function(e,t){return Array.isArray(p.current[t])?p.current[t].join("\uff0c"):p.current[t]})),++t;t>=100&&g.a.error("\u751f\u6210\u8c03\u7528\u6b21\u6570\u8fc7\u591a\uff0c\u8bf7\u68c0\u67e5\u6a21\u677f\u53d8\u91cf\u662f\u5426\u5b58\u5728\u5d4c\u5957"),b(e);var a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),g.a.success("\u590d\u5236\u6210\u529f",1)}),[n]);return r.a.createElement(w.a,{title:r.a.createElement(C.a,{className:"select",value:n,onChange:function(e){p.current={name:p.current.name,course:x[n].name},c(e)}},x.map((function(e,t){return r.a.createElement(C.a.Option,{key:t,value:t},e.name)}))),className:"spawner"},r.a.createElement("div",{className:"form"},r.a.createElement("h4",{className:"title"},"\u57fa\u672c\u4fe1\u606f"),r.a.createElement(N.a,{placeholder:"\u59d3\u540d",onChange:function(e){return E("name",e.target.value)}})),o,r.a.createElement(j.a,{type:"primary",block:!0,onClick:function(){d.current?A.a.confirm({title:"Warning",content:"\u5185\u5bb9\u5df2\u7ecf\u4fee\u6539\uff0c\u786e\u5b9a\u91cd\u65b0\u751f\u6210\u5417\uff1f",onOk:O,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onCancel:function(){return null},maskClosable:!0}):O()}},"\u751f\u6210\u5e76\u590d\u5236"),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(N.a.TextArea,{rows:5,value:f,onChange:function(e){d.current=!0,b(e.target.value)}}))}function D(){var e=Object(l.c)((function(e){return e.spawners}));return r.a.createElement(v.a.Content,{className:"spawner-cntr"},e.map((function(e){return r.a.createElement(S,{key:e})})))}n(207),n(208),n(209);u.a.render(r.a.createElement(l.a,{store:E},r.a.createElement((function(){var e=Object(a.useCallback)((function(e){return e.returnValue="\u5237\u65b0\u540e\u5df2\u586b\u5199\u6a21\u677f\u5c06\u88ab\u6e05\u9664","\u5237\u65b0\u540e\u5df2\u586b\u5199\u6a21\u677f\u5c06\u88ab\u6e05\u9664"}),[]);return Object(a.useEffect)((function(){return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),[e]),r.a.createElement(v.a,{className:"app"},r.a.createElement(O,null),r.a.createElement(D,null))}),null)),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.6780e3af.chunk.js.map